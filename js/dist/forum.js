(()=>{var o={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},d:(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},e={};(()=>{"use strict";o.r(e),o.d(e,{components:()=>S});const t=flarum.reg.get("core","forum/app");var a=o.n(t);const n=flarum.reg.get("core","common/extend"),r=flarum.reg.get("core","common/Application");var s=o.n(r);const l=flarum.reg.get("core","common/Component");var i=o.n(l);const c=flarum.reg.get("core","common/helpers/listItems");var u=o.n(c);const f=flarum.reg.get("core","common/utils/ItemList");var d=o.n(f);const b=flarum.reg.get("core","common/components/LinkButton");var p=o.n(b);const g=flarum.reg.get("core","common/components/Button");var v=o.n(g);class h extends(i()){view(o){const{route:e,icon:t,label:a}=this.attrs;return m(p(),{href:e,icon:t,title:a},a)}}flarum.reg.add("acpl-mobile-tab","forum/components/MobileTabItem",h);const y=flarum.reg.get("core","forum/components/SessionDropdown");var M=o.n(y);const w=flarum.reg.get("core","common/components/Avatar");var x=o.n(w);class T extends(M()){getButtonContent(){const{user:o}=a().session;return[m(x(),{user:o})," ",m("span",{className:"Button-label"},a().translator.trans("acpl-mobile-tab.forum.profile"))]}}flarum.reg.add("acpl-mobile-tab","forum/components/MobileTabSessionDropdown",T);class N extends(i()){view(o){return m("nav",{className:"MobileTab"},m("ul",{className:"MobileTab-items"},u()(this.items().toArray())))}items(){const o=new(d());if(o.add("home",m(h,{route:"/",icon:"fas fa-home",label:a().translator.trans("acpl-mobile-tab.forum.home")}),100),"/all"===a().routes.index.path?o.add("all",m(h,{route:a().route("index"),icon:"fas fa-comments",label:a().translator.trans("acpl-mobile-tab.forum.all_discussions")}),90):"askvortsov-categories"in flarum.extensions?o.add("categories",m(h,{route:a().route("categories"),icon:"fas fa-th-list",label:a().translator.trans("acpl-mobile-tab.forum.categories")}),90):"flarum-tags"in flarum.extensions&&o.add("tags",m(h,{route:a().route("tags"),icon:"fas fa-tags",label:a().translator.trans("acpl-mobile-tab.forum.tags")}),90),a().session.user){const e=a().session.user.unreadNotificationCount();o.add("notifications",m(p(),{href:a().route("notifications"),icon:"fas fa-bell",title:a().translator.trans("acpl-mobile-tab.forum.notifications"),className:"Dropdown NotificationsDropdown"},e?m("span",{className:"NotificationsDropdown-unread"},e):"",a().translator.trans("acpl-mobile-tab.forum.notifications")),80),o.add("session",m(T,null),70)}else o.add("logIn",m(v(),{icon:"fas fa-user",className:"Button Button--link",onclick:()=>a().modal.show((()=>flarum.reg.asyncModuleImport("flarum/forum/components/LogInModal")))},a().translator.trans("acpl-mobile-tab.forum.log_in")),70);return o}}flarum.reg.add("acpl-mobile-tab","forum/components/MobileTab",N);const S={MobileTab:N,MobileTabItem:h,MobileTabSessionDropdown:T};flarum.reg.add("acpl-mobile-tab","forum/components",null),a().initializers.add("acpl/mobile-tab",(()=>{(0,n.extend)(s().prototype,"mount",(()=>{const o=document.createElement("div");m.mount(document.body.appendChild(o),N)}))}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map