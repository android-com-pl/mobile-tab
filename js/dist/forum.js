(()=>{var o={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return o.d(a,{a}),a},d:(e,a)=>{for(var t in a)o.o(a,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e)};(()=>{"use strict";const e=flarum.reg.get("core","forum/app");var a=o.n(e);const t=flarum.reg.get("core","common/extend"),n=flarum.reg.get("core","common/Application");var r=o.n(n);const s=flarum.reg.get("core","common/Component");var l=o.n(s);const c=flarum.reg.get("core","common/helpers/listItems");var i=o.n(c);const u=flarum.reg.get("core","common/utils/ItemList");var f=o.n(u);const d=flarum.reg.get("core","common/components/LinkButton");var b=o.n(d);const p=flarum.reg.get("core","common/components/Button");var g=o.n(p);const v=flarum.reg.get("core","forum/components/SessionDropdown");var h=o.n(v);const x=flarum.reg.get("core","common/components/Avatar");var M=o.n(x);class w extends(h()){getButtonContent(){const{user:o}=a().session;return[m(M(),{user:o})," ",m("span",{className:"Button-label"},a().translator.trans("acpl-mobile-tab.forum.profile"))]}}flarum.reg.add("acpl-mobile-tab","forum/components/MobileTabSessionDropdown",w);class y extends(l()){view(o){return m("nav",{className:"MobileTab"},m("ul",{className:"MobileTab-items"},i()(this.items().toArray())))}items(){const o=new(f());if(o.add("home",m(b(),{href:"/",icon:"fas fa-home"},a().translator.trans("acpl-mobile-tab.forum.home")),100),"/all"===a().routes.index.path?o.add("all",m(b(),{href:a().route("index"),icon:"fas fa-comments"},a().translator.trans("acpl-mobile-tab.forum.all_discussions")),90):"askvortsov-categories"in flarum.extensions?o.add("categories",m(b(),{href:a().route("categories"),icon:"fas fa-th-list"},a().translator.trans("acpl-mobile-tab.forum.categories")),90):"flarum-tags"in flarum.extensions&&o.add("tags",m(b(),{href:a().route("tags"),icon:"fas fa-tags"},a().translator.trans("acpl-mobile-tab.forum.tags")),90),a().session.user){const e=a().session.user.unreadNotificationCount();o.add("notifications",m(b(),{href:a().route("notifications"),icon:"fas fa-bell",title:a().translator.trans("acpl-mobile-tab.forum.notifications")},e?m("span",{className:"Bubble"},e):"",a().translator.trans("acpl-mobile-tab.forum.notifications")),80),o.add("session",m(w,null),70)}else o.add("logIn",m(g(),{icon:"fas fa-user",className:"Button Button--link",onclick:()=>a().modal.show((()=>flarum.reg.asyncModuleImport("flarum/forum/components/LogInModal")))},a().translator.trans("acpl-mobile-tab.forum.log_in")),70);return o}}flarum.reg.add("acpl-mobile-tab","forum/components/MobileTab",y);const B={MobileTab:y,MobileTabSessionDropdown:w};flarum.reg.add("acpl-mobile-tab","forum/components",B),a().initializers.add("acpl/mobile-tab",(()=>{(0,t.extend)(r().prototype,"mount",(()=>{const o=document.createElement("div");m.mount(document.body.appendChild(o),y)}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map